pipeline {

    agent any
    
    environment {
      
      image = 'venkylucky115/myimage1'
      registry = 'https://registry.hub.docker.com'
      
    }

       
stages {    
     stage('pullcode'){ 
         steps{
               git credentialsId: 'githubid', url: 'https://github.com/venkylucky/angular-tour-of-heroes.git'
              }    
                       }
    
    
     stage('runscript'){ 

          steps{
    
        bat label: '', script: '''
                             dir
                               '''  
                 }
                        }  
       stage('buildimage'){
        
         steps{
          
            script {
            
             docker.build ${image}
                       }
                 }
                         }
                }
       }

}
